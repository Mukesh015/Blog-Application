"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/mongodb-connection-string-url";
exports.ids = ["vendor-chunks/mongodb-connection-string-url"];
exports.modules = {

/***/ "(ssr)/./node_modules/mongodb-connection-string-url/lib/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/mongodb-connection-string-url/lib/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.CommaAndColonSeparatedRecord = exports.ConnectionString = exports.redactConnectionString = void 0;\nconst whatwg_url_1 = __webpack_require__(/*! whatwg-url */ \"(ssr)/./node_modules/whatwg-url/index.js\");\nconst redact_1 = __webpack_require__(/*! ./redact */ \"(ssr)/./node_modules/mongodb-connection-string-url/lib/redact.js\");\nObject.defineProperty(exports, \"redactConnectionString\", ({\n    enumerable: true,\n    get: function() {\n        return redact_1.redactConnectionString;\n    }\n}));\nconst DUMMY_HOSTNAME = \"__this_is_a_placeholder__\";\nfunction connectionStringHasValidScheme(connectionString) {\n    return connectionString.startsWith(\"mongodb://\") || connectionString.startsWith(\"mongodb+srv://\");\n}\nconst HOSTS_REGEX = /^(?<protocol>[^/]+):\\/\\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/;\nclass CaseInsensitiveMap extends Map {\n    delete(name) {\n        return super.delete(this._normalizeKey(name));\n    }\n    get(name) {\n        return super.get(this._normalizeKey(name));\n    }\n    has(name) {\n        return super.has(this._normalizeKey(name));\n    }\n    set(name, value) {\n        return super.set(this._normalizeKey(name), value);\n    }\n    _normalizeKey(name) {\n        name = `${name}`;\n        for (const key of this.keys()){\n            if (key.toLowerCase() === name.toLowerCase()) {\n                name = key;\n                break;\n            }\n        }\n        return name;\n    }\n}\nfunction caseInsenstiveURLSearchParams(Ctor) {\n    return class CaseInsenstiveURLSearchParams extends Ctor {\n        append(name, value) {\n            return super.append(this._normalizeKey(name), value);\n        }\n        delete(name) {\n            return super.delete(this._normalizeKey(name));\n        }\n        get(name) {\n            return super.get(this._normalizeKey(name));\n        }\n        getAll(name) {\n            return super.getAll(this._normalizeKey(name));\n        }\n        has(name) {\n            return super.has(this._normalizeKey(name));\n        }\n        set(name, value) {\n            return super.set(this._normalizeKey(name), value);\n        }\n        keys() {\n            return super.keys();\n        }\n        values() {\n            return super.values();\n        }\n        entries() {\n            return super.entries();\n        }\n        [Symbol.iterator]() {\n            return super[Symbol.iterator]();\n        }\n        _normalizeKey(name) {\n            return CaseInsensitiveMap.prototype._normalizeKey.call(this, name);\n        }\n    };\n}\nclass URLWithoutHost extends whatwg_url_1.URL {\n}\nclass MongoParseError extends Error {\n    get name() {\n        return \"MongoParseError\";\n    }\n}\nclass ConnectionString extends URLWithoutHost {\n    constructor(uri, options = {}){\n        var _a;\n        const { looseValidation } = options;\n        if (!looseValidation && !connectionStringHasValidScheme(uri)) {\n            throw new MongoParseError('Invalid scheme, expected connection string to start with \"mongodb://\" or \"mongodb+srv://\"');\n        }\n        const match = uri.match(HOSTS_REGEX);\n        if (!match) {\n            throw new MongoParseError(`Invalid connection string \"${uri}\"`);\n        }\n        const { protocol, username, password, hosts, rest } = (_a = match.groups) !== null && _a !== void 0 ? _a : {};\n        if (!looseValidation) {\n            if (!protocol || !hosts) {\n                throw new MongoParseError(`Protocol and host list are required in \"${uri}\"`);\n            }\n            try {\n                decodeURIComponent(username !== null && username !== void 0 ? username : \"\");\n                decodeURIComponent(password !== null && password !== void 0 ? password : \"\");\n            } catch (err) {\n                throw new MongoParseError(err.message);\n            }\n            const illegalCharacters = /[:/?#[\\]@]/gi;\n            if (username === null || username === void 0 ? void 0 : username.match(illegalCharacters)) {\n                throw new MongoParseError(`Username contains unescaped characters ${username}`);\n            }\n            if (!username || !password) {\n                const uriWithoutProtocol = uri.replace(`${protocol}://`, \"\");\n                if (uriWithoutProtocol.startsWith(\"@\") || uriWithoutProtocol.startsWith(\":\")) {\n                    throw new MongoParseError(\"URI contained empty userinfo section\");\n                }\n            }\n            if (password === null || password === void 0 ? void 0 : password.match(illegalCharacters)) {\n                throw new MongoParseError(\"Password contains unescaped characters\");\n            }\n        }\n        let authString = \"\";\n        if (typeof username === \"string\") authString += username;\n        if (typeof password === \"string\") authString += `:${password}`;\n        if (authString) authString += \"@\";\n        try {\n            super(`${protocol.toLowerCase()}://${authString}${DUMMY_HOSTNAME}${rest}`);\n        } catch (err) {\n            if (looseValidation) {\n                new ConnectionString(uri, {\n                    ...options,\n                    looseValidation: false\n                });\n            }\n            if (typeof err.message === \"string\") {\n                err.message = err.message.replace(DUMMY_HOSTNAME, hosts);\n            }\n            throw err;\n        }\n        this._hosts = hosts.split(\",\");\n        if (!looseValidation) {\n            if (this.isSRV && this.hosts.length !== 1) {\n                throw new MongoParseError(\"mongodb+srv URI cannot have multiple service names\");\n            }\n            if (this.isSRV && this.hosts.some((host)=>host.includes(\":\"))) {\n                throw new MongoParseError(\"mongodb+srv URI cannot have port number\");\n            }\n        }\n        if (!this.pathname) {\n            this.pathname = \"/\";\n        }\n        Object.setPrototypeOf(this.searchParams, caseInsenstiveURLSearchParams(this.searchParams.constructor).prototype);\n    }\n    get host() {\n        return DUMMY_HOSTNAME;\n    }\n    set host(_ignored) {\n        throw new Error(\"No single host for connection string\");\n    }\n    get hostname() {\n        return DUMMY_HOSTNAME;\n    }\n    set hostname(_ignored) {\n        throw new Error(\"No single host for connection string\");\n    }\n    get port() {\n        return \"\";\n    }\n    set port(_ignored) {\n        throw new Error(\"No single host for connection string\");\n    }\n    get href() {\n        return this.toString();\n    }\n    set href(_ignored) {\n        throw new Error(\"Cannot set href for connection strings\");\n    }\n    get isSRV() {\n        return this.protocol.includes(\"srv\");\n    }\n    get hosts() {\n        return this._hosts;\n    }\n    set hosts(list) {\n        this._hosts = list;\n    }\n    toString() {\n        return super.toString().replace(DUMMY_HOSTNAME, this.hosts.join(\",\"));\n    }\n    clone() {\n        return new ConnectionString(this.toString(), {\n            looseValidation: true\n        });\n    }\n    redact(options) {\n        return (0, redact_1.redactValidConnectionString)(this, options);\n    }\n    typedSearchParams() {\n        const sametype =  false && 0;\n        return this.searchParams;\n    }\n    [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n        const { href, origin, protocol, username, password, hosts, pathname, search, searchParams, hash } = this;\n        return {\n            href,\n            origin,\n            protocol,\n            username,\n            password,\n            hosts,\n            pathname,\n            search,\n            searchParams,\n            hash\n        };\n    }\n}\nexports.ConnectionString = ConnectionString;\nclass CommaAndColonSeparatedRecord extends CaseInsensitiveMap {\n    constructor(from){\n        super();\n        for (const entry of (from !== null && from !== void 0 ? from : \"\").split(\",\")){\n            if (!entry) continue;\n            const colonIndex = entry.indexOf(\":\");\n            if (colonIndex === -1) {\n                this.set(entry, \"\");\n            } else {\n                this.set(entry.slice(0, colonIndex), entry.slice(colonIndex + 1));\n            }\n        }\n    }\n    toString() {\n        return [\n            ...this\n        ].map((entry)=>entry.join(\":\")).join(\",\");\n    }\n}\nexports.CommaAndColonSeparatedRecord = CommaAndColonSeparatedRecord;\nexports[\"default\"] = ConnectionString; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1jb25uZWN0aW9uLXN0cmluZy11cmwvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxvQ0FBb0MsR0FBR0Esd0JBQXdCLEdBQUdBLDhCQUE4QixHQUFHLEtBQUs7QUFDeEcsTUFBTUssZUFBZUMsbUJBQU9BLENBQUMsNERBQVk7QUFDekMsTUFBTUMsV0FBV0QsbUJBQU9BLENBQUMsa0ZBQVU7QUFDbkNSLDBEQUF5RDtJQUFFVSxZQUFZO0lBQU1DLEtBQUs7UUFBYyxPQUFPRixTQUFTSCxzQkFBc0I7SUFBRTtBQUFFLENBQUMsRUFBQztBQUM1SSxNQUFNTSxpQkFBaUI7QUFDdkIsU0FBU0MsK0JBQStCQyxnQkFBZ0I7SUFDcEQsT0FBUUEsaUJBQWlCQyxVQUFVLENBQUMsaUJBQ2hDRCxpQkFBaUJDLFVBQVUsQ0FBQztBQUNwQztBQUNBLE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsMkJBQTJCQztJQUM3QkMsT0FBT0MsSUFBSSxFQUFFO1FBQ1QsT0FBTyxLQUFLLENBQUNELE9BQU8sSUFBSSxDQUFDRSxhQUFhLENBQUNEO0lBQzNDO0lBQ0FULElBQUlTLElBQUksRUFBRTtRQUNOLE9BQU8sS0FBSyxDQUFDVCxJQUFJLElBQUksQ0FBQ1UsYUFBYSxDQUFDRDtJQUN4QztJQUNBRSxJQUFJRixJQUFJLEVBQUU7UUFDTixPQUFPLEtBQUssQ0FBQ0UsSUFBSSxJQUFJLENBQUNELGFBQWEsQ0FBQ0Q7SUFDeEM7SUFDQUcsSUFBSUgsSUFBSSxFQUFFakIsS0FBSyxFQUFFO1FBQ2IsT0FBTyxLQUFLLENBQUNvQixJQUFJLElBQUksQ0FBQ0YsYUFBYSxDQUFDRCxPQUFPakI7SUFDL0M7SUFDQWtCLGNBQWNELElBQUksRUFBRTtRQUNoQkEsT0FBTyxDQUFDLEVBQUVBLEtBQUssQ0FBQztRQUNoQixLQUFLLE1BQU1JLE9BQU8sSUFBSSxDQUFD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LEtBQUssQ0FBQyxLQUFNO1lBQzNFLElBQUksQ0FBQzJCLE9BQ0Q7WUFDSixNQUFNQyxhQUFhRCxNQUFNRSxPQUFPLENBQUM7WUFDakMsSUFBSUQsZUFBZSxDQUFDLEdBQUc7Z0JBQ25CLElBQUksQ0FBQ25FLEdBQUcsQ0FBQ2tFLE9BQU87WUFDcEIsT0FDSztnQkFDRCxJQUFJLENBQUNsRSxHQUFHLENBQUNrRSxNQUFNRyxLQUFLLENBQUMsR0FBR0YsYUFBYUQsTUFBTUcsS0FBSyxDQUFDRixhQUFhO1lBQ2xFO1FBQ0o7SUFDSjtJQUNBZixXQUFXO1FBQ1AsT0FBTztlQUFJLElBQUk7U0FBQyxDQUFDa0IsR0FBRyxDQUFDSixDQUFBQSxRQUFTQSxNQUFNWixJQUFJLENBQUMsTUFBTUEsSUFBSSxDQUFDO0lBQ3hEO0FBQ0o7QUFDQTNFLG9DQUFvQyxHQUFHRTtBQUN2Q0Ysa0JBQWUsR0FBR0csa0JBQ2xCLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2ctYXBwbGljYXRpb24vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1jb25uZWN0aW9uLXN0cmluZy11cmwvbGliL2luZGV4LmpzPzExODciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQgPSBleHBvcnRzLkNvbm5lY3Rpb25TdHJpbmcgPSBleHBvcnRzLnJlZGFjdENvbm5lY3Rpb25TdHJpbmcgPSB2b2lkIDA7XG5jb25zdCB3aGF0d2dfdXJsXzEgPSByZXF1aXJlKFwid2hhdHdnLXVybFwiKTtcbmNvbnN0IHJlZGFjdF8xID0gcmVxdWlyZShcIi4vcmVkYWN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVkYWN0Q29ubmVjdGlvblN0cmluZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVkYWN0XzEucmVkYWN0Q29ubmVjdGlvblN0cmluZzsgfSB9KTtcbmNvbnN0IERVTU1ZX0hPU1ROQU1FID0gJ19fdGhpc19pc19hX3BsYWNlaG9sZGVyX18nO1xuZnVuY3Rpb24gY29ubmVjdGlvblN0cmluZ0hhc1ZhbGlkU2NoZW1lKGNvbm5lY3Rpb25TdHJpbmcpIHtcbiAgICByZXR1cm4gKGNvbm5lY3Rpb25TdHJpbmcuc3RhcnRzV2l0aCgnbW9uZ29kYjovLycpIHx8XG4gICAgICAgIGNvbm5lY3Rpb25TdHJpbmcuc3RhcnRzV2l0aCgnbW9uZ29kYitzcnY6Ly8nKSk7XG59XG5jb25zdCBIT1NUU19SRUdFWCA9IC9eKD88cHJvdG9jb2w+W14vXSspOlxcL1xcLyg/Oig/PHVzZXJuYW1lPlteOkBdKikoPzo6KD88cGFzc3dvcmQ+W15AXSopKT9AKT8oPzxob3N0cz4oPyE6KVteLz9AXSopKD88cmVzdD4uKikvO1xuY2xhc3MgQ2FzZUluc2Vuc2l0aXZlTWFwIGV4dGVuZHMgTWFwIHtcbiAgICBkZWxldGUobmFtZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZGVsZXRlKHRoaXMuX25vcm1hbGl6ZUtleShuYW1lKSk7XG4gICAgfVxuICAgIGdldChuYW1lKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5nZXQodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpKTtcbiAgICB9XG4gICAgaGFzKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmhhcyh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSkpO1xuICAgIH1cbiAgICBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNldCh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSksIHZhbHVlKTtcbiAgICB9XG4gICAgX25vcm1hbGl6ZUtleShuYW1lKSB7XG4gICAgICAgIG5hbWUgPSBgJHtuYW1lfWA7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMua2V5cygpKSB7XG4gICAgICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBrZXk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxufVxuZnVuY3Rpb24gY2FzZUluc2Vuc3RpdmVVUkxTZWFyY2hQYXJhbXMoQ3Rvcikge1xuICAgIHJldHVybiBjbGFzcyBDYXNlSW5zZW5zdGl2ZVVSTFNlYXJjaFBhcmFtcyBleHRlbmRzIEN0b3Ige1xuICAgICAgICBhcHBlbmQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5hcHBlbmQodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5kZWxldGUodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldCh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIGdldEFsbChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0QWxsKHRoaXMuX25vcm1hbGl6ZUtleShuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5oYXModGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5zZXQodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAga2V5cygpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5rZXlzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnZhbHVlcygpO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZW50cmllcygpO1xuICAgICAgICB9XG4gICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgfVxuICAgICAgICBfbm9ybWFsaXplS2V5KG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBDYXNlSW5zZW5zaXRpdmVNYXAucHJvdG90eXBlLl9ub3JtYWxpemVLZXkuY2FsbCh0aGlzLCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5jbGFzcyBVUkxXaXRob3V0SG9zdCBleHRlbmRzIHdoYXR3Z191cmxfMS5VUkwge1xufVxuY2xhc3MgTW9uZ29QYXJzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gJ01vbmdvUGFyc2VFcnJvcic7XG4gICAgfVxufVxuY2xhc3MgQ29ubmVjdGlvblN0cmluZyBleHRlbmRzIFVSTFdpdGhvdXRIb3N0IHtcbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHsgbG9vc2VWYWxpZGF0aW9uIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoIWxvb3NlVmFsaWRhdGlvbiAmJiAhY29ubmVjdGlvblN0cmluZ0hhc1ZhbGlkU2NoZW1lKHVyaSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNb25nb1BhcnNlRXJyb3IoJ0ludmFsaWQgc2NoZW1lLCBleHBlY3RlZCBjb25uZWN0aW9uIHN0cmluZyB0byBzdGFydCB3aXRoIFwibW9uZ29kYjovL1wiIG9yIFwibW9uZ29kYitzcnY6Ly9cIicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hdGNoID0gdXJpLm1hdGNoKEhPU1RTX1JFR0VYKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcihgSW52YWxpZCBjb25uZWN0aW9uIHN0cmluZyBcIiR7dXJpfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBwcm90b2NvbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBob3N0cywgcmVzdCB9ID0gKF9hID0gbWF0Y2guZ3JvdXBzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICAgICAgaWYgKCFsb29zZVZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGlmICghcHJvdG9jb2wgfHwgIWhvc3RzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcihgUHJvdG9jb2wgYW5kIGhvc3QgbGlzdCBhcmUgcmVxdWlyZWQgaW4gXCIke3VyaX1cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBkZWNvZGVVUklDb21wb25lbnQodXNlcm5hbWUgIT09IG51bGwgJiYgdXNlcm5hbWUgIT09IHZvaWQgMCA/IHVzZXJuYW1lIDogJycpO1xuICAgICAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChwYXNzd29yZCAhPT0gbnVsbCAmJiBwYXNzd29yZCAhPT0gdm9pZCAwID8gcGFzc3dvcmQgOiAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbGxlZ2FsQ2hhcmFjdGVycyA9IC9bOi8/I1tcXF1AXS9naTtcbiAgICAgICAgICAgIGlmICh1c2VybmFtZSA9PT0gbnVsbCB8fCB1c2VybmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlcm5hbWUubWF0Y2goaWxsZWdhbENoYXJhY3RlcnMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcihgVXNlcm5hbWUgY29udGFpbnMgdW5lc2NhcGVkIGNoYXJhY3RlcnMgJHt1c2VybmFtZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJpV2l0aG91dFByb3RvY29sID0gdXJpLnJlcGxhY2UoYCR7cHJvdG9jb2x9Oi8vYCwgJycpO1xuICAgICAgICAgICAgICAgIGlmICh1cmlXaXRob3V0UHJvdG9jb2wuc3RhcnRzV2l0aCgnQCcpIHx8IHVyaVdpdGhvdXRQcm90b2NvbC5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcignVVJJIGNvbnRhaW5lZCBlbXB0eSB1c2VyaW5mbyBzZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhc3N3b3JkID09PSBudWxsIHx8IHBhc3N3b3JkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXNzd29yZC5tYXRjaChpbGxlZ2FsQ2hhcmFjdGVycykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKCdQYXNzd29yZCBjb250YWlucyB1bmVzY2FwZWQgY2hhcmFjdGVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhdXRoU3RyaW5nID0gJyc7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcm5hbWUgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgYXV0aFN0cmluZyArPSB1c2VybmFtZTtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICBhdXRoU3RyaW5nICs9IGA6JHtwYXNzd29yZH1gO1xuICAgICAgICBpZiAoYXV0aFN0cmluZylcbiAgICAgICAgICAgIGF1dGhTdHJpbmcgKz0gJ0AnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3VwZXIoYCR7cHJvdG9jb2wudG9Mb3dlckNhc2UoKX06Ly8ke2F1dGhTdHJpbmd9JHtEVU1NWV9IT1NUTkFNRX0ke3Jlc3R9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGxvb3NlVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgIG5ldyBDb25uZWN0aW9uU3RyaW5nKHVyaSwge1xuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBsb29zZVZhbGlkYXRpb246IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVyci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlID0gZXJyLm1lc3NhZ2UucmVwbGFjZShEVU1NWV9IT1NUTkFNRSwgaG9zdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hvc3RzID0gaG9zdHMuc3BsaXQoJywnKTtcbiAgICAgICAgaWYgKCFsb29zZVZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU1JWICYmIHRoaXMuaG9zdHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcignbW9uZ29kYitzcnYgVVJJIGNhbm5vdCBoYXZlIG11bHRpcGxlIHNlcnZpY2UgbmFtZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU1JWICYmIHRoaXMuaG9zdHMuc29tZShob3N0ID0+IGhvc3QuaW5jbHVkZXMoJzonKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKCdtb25nb2RiK3NydiBVUkkgY2Fubm90IGhhdmUgcG9ydCBudW1iZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMucGF0aG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMuc2VhcmNoUGFyYW1zLCBjYXNlSW5zZW5zdGl2ZVVSTFNlYXJjaFBhcmFtcyh0aGlzLnNlYXJjaFBhcmFtcy5jb25zdHJ1Y3RvcikucHJvdG90eXBlKTtcbiAgICB9XG4gICAgZ2V0IGhvc3QoKSB7IHJldHVybiBEVU1NWV9IT1NUTkFNRTsgfVxuICAgIHNldCBob3N0KF9pZ25vcmVkKSB7IHRocm93IG5ldyBFcnJvcignTm8gc2luZ2xlIGhvc3QgZm9yIGNvbm5lY3Rpb24gc3RyaW5nJyk7IH1cbiAgICBnZXQgaG9zdG5hbWUoKSB7IHJldHVybiBEVU1NWV9IT1NUTkFNRTsgfVxuICAgIHNldCBob3N0bmFtZShfaWdub3JlZCkgeyB0aHJvdyBuZXcgRXJyb3IoJ05vIHNpbmdsZSBob3N0IGZvciBjb25uZWN0aW9uIHN0cmluZycpOyB9XG4gICAgZ2V0IHBvcnQoKSB7IHJldHVybiAnJzsgfVxuICAgIHNldCBwb3J0KF9pZ25vcmVkKSB7IHRocm93IG5ldyBFcnJvcignTm8gc2luZ2xlIGhvc3QgZm9yIGNvbm5lY3Rpb24gc3RyaW5nJyk7IH1cbiAgICBnZXQgaHJlZigpIHsgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsgfVxuICAgIHNldCBocmVmKF9pZ25vcmVkKSB7IHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNldCBocmVmIGZvciBjb25uZWN0aW9uIHN0cmluZ3MnKTsgfVxuICAgIGdldCBpc1NSVigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdG9jb2wuaW5jbHVkZXMoJ3NydicpO1xuICAgIH1cbiAgICBnZXQgaG9zdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ob3N0cztcbiAgICB9XG4gICAgc2V0IGhvc3RzKGxpc3QpIHtcbiAgICAgICAgdGhpcy5faG9zdHMgPSBsaXN0O1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnRvU3RyaW5nKCkucmVwbGFjZShEVU1NWV9IT1NUTkFNRSwgdGhpcy5ob3N0cy5qb2luKCcsJykpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uU3RyaW5nKHRoaXMudG9TdHJpbmcoKSwge1xuICAgICAgICAgICAgbG9vc2VWYWxpZGF0aW9uOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWRhY3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKDAsIHJlZGFjdF8xLnJlZGFjdFZhbGlkQ29ubmVjdGlvblN0cmluZykodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuICAgIHR5cGVkU2VhcmNoUGFyYW1zKCkge1xuICAgICAgICBjb25zdCBzYW1ldHlwZSA9IGZhbHNlICYmIG5ldyAoY2FzZUluc2Vuc3RpdmVVUkxTZWFyY2hQYXJhbXMod2hhdHdnX3VybF8xLlVSTFNlYXJjaFBhcmFtcykpKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaFBhcmFtcztcbiAgICB9XG4gICAgW1N5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyldKCkge1xuICAgICAgICBjb25zdCB7IGhyZWYsIG9yaWdpbiwgcHJvdG9jb2wsIHVzZXJuYW1lLCBwYXNzd29yZCwgaG9zdHMsIHBhdGhuYW1lLCBzZWFyY2gsIHNlYXJjaFBhcmFtcywgaGFzaCB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHsgaHJlZiwgb3JpZ2luLCBwcm90b2NvbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBob3N0cywgcGF0aG5hbWUsIHNlYXJjaCwgc2VhcmNoUGFyYW1zLCBoYXNoIH07XG4gICAgfVxufVxuZXhwb3J0cy5Db25uZWN0aW9uU3RyaW5nID0gQ29ubmVjdGlvblN0cmluZztcbmNsYXNzIENvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQgZXh0ZW5kcyBDYXNlSW5zZW5zaXRpdmVNYXAge1xuICAgIGNvbnN0cnVjdG9yKGZyb20pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiAoZnJvbSAhPT0gbnVsbCAmJiBmcm9tICE9PSB2b2lkIDAgPyBmcm9tIDogJycpLnNwbGl0KCcsJykpIHtcbiAgICAgICAgICAgIGlmICghZW50cnkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBjb2xvbkluZGV4ID0gZW50cnkuaW5kZXhPZignOicpO1xuICAgICAgICAgICAgaWYgKGNvbG9uSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoZW50cnksICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGVudHJ5LnNsaWNlKDAsIGNvbG9uSW5kZXgpLCBlbnRyeS5zbGljZShjb2xvbkluZGV4ICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXNdLm1hcChlbnRyeSA9PiBlbnRyeS5qb2luKCc6JykpLmpvaW4oJywnKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQgPSBDb21tYUFuZENvbG9uU2VwYXJhdGVkUmVjb3JkO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ29ubmVjdGlvblN0cmluZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkNvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQiLCJDb25uZWN0aW9uU3RyaW5nIiwicmVkYWN0Q29ubmVjdGlvblN0cmluZyIsIndoYXR3Z191cmxfMSIsInJlcXVpcmUiLCJyZWRhY3RfMSIsImVudW1lcmFibGUiLCJnZXQiLCJEVU1NWV9IT1NUTkFNRSIsImNvbm5lY3Rpb25TdHJpbmdIYXNWYWxpZFNjaGVtZSIsImNvbm5lY3Rpb25TdHJpbmciLCJzdGFydHNXaXRoIiwiSE9TVFNfUkVHRVgiLCJDYXNlSW5zZW5zaXRpdmVNYXAiLCJNYXAiLCJkZWxldGUiLCJuYW1lIiwiX25vcm1hbGl6ZUtleSIsImhhcyIsInNldCIsImtleSIsImtleXMiLCJ0b0xvd2VyQ2FzZSIsImNhc2VJbnNlbnN0aXZlVVJMU2VhcmNoUGFyYW1zIiwiQ3RvciIsIkNhc2VJbnNlbnN0aXZlVVJMU2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwiZ2V0QWxsIiwidmFsdWVzIiwiZW50cmllcyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwicHJvdG90eXBlIiwiY2FsbCIsIlVSTFdpdGhvdXRIb3N0IiwiVVJMIiwiTW9uZ29QYXJzZUVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsInVyaSIsIm9wdGlvbnMiLCJfYSIsImxvb3NlVmFsaWRhdGlvbiIsIm1hdGNoIiwicHJvdG9jb2wiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiaG9zdHMiLCJyZXN0IiwiZ3JvdXBzIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZXJyIiwibWVzc2FnZSIsImlsbGVnYWxDaGFyYWN0ZXJzIiwidXJpV2l0aG91dFByb3RvY29sIiwicmVwbGFjZSIsImF1dGhTdHJpbmciLCJfaG9zdHMiLCJzcGxpdCIsImlzU1JWIiwibGVuZ3RoIiwic29tZSIsImhvc3QiLCJpbmNsdWRlcyIsInBhdGhuYW1lIiwic2V0UHJvdG90eXBlT2YiLCJzZWFyY2hQYXJhbXMiLCJfaWdub3JlZCIsImhvc3RuYW1lIiwicG9ydCIsImhyZWYiLCJ0b1N0cmluZyIsImxpc3QiLCJqb2luIiwiY2xvbmUiLCJyZWRhY3QiLCJyZWRhY3RWYWxpZENvbm5lY3Rpb25TdHJpbmciLCJ0eXBlZFNlYXJjaFBhcmFtcyIsInNhbWV0eXBlIiwiVVJMU2VhcmNoUGFyYW1zIiwiZm9yIiwib3JpZ2luIiwic2VhcmNoIiwiaGFzaCIsImZyb20iLCJlbnRyeSIsImNvbG9uSW5kZXgiLCJpbmRleE9mIiwic2xpY2UiLCJtYXAiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/mongodb-connection-string-url/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/mongodb-connection-string-url/lib/redact.js":
/*!******************************************************************!*\
  !*** ./node_modules/mongodb-connection-string-url/lib/redact.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __createBinding = (void 0) && (void 0).__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n        desc = {\n            enumerable: true,\n            get: function() {\n                return m[k];\n            }\n        };\n    }\n    Object.defineProperty(o, k2, desc);\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __setModuleDefault = (void 0) && (void 0).__setModuleDefault || (Object.create ? function(o, v) {\n    Object.defineProperty(o, \"default\", {\n        enumerable: true,\n        value: v\n    });\n} : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (void 0) && (void 0).__importStar || function(mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) {\n        for(var k in mod)if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    }\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.redactConnectionString = exports.redactValidConnectionString = void 0;\nconst index_1 = __importStar(__webpack_require__(/*! ./index */ \"(ssr)/./node_modules/mongodb-connection-string-url/lib/index.js\"));\nfunction redactValidConnectionString(inputUrl, options) {\n    var _a, _b;\n    const url = inputUrl.clone();\n    const replacementString = (_a = options === null || options === void 0 ? void 0 : options.replacementString) !== null && _a !== void 0 ? _a : \"_credentials_\";\n    const redactUsernames = (_b = options === null || options === void 0 ? void 0 : options.redactUsernames) !== null && _b !== void 0 ? _b : true;\n    if ((url.username || url.password) && redactUsernames) {\n        url.username = replacementString;\n        url.password = \"\";\n    } else if (url.password) {\n        url.password = replacementString;\n    }\n    if (url.searchParams.has(\"authMechanismProperties\")) {\n        const props = new index_1.CommaAndColonSeparatedRecord(url.searchParams.get(\"authMechanismProperties\"));\n        if (props.get(\"AWS_SESSION_TOKEN\")) {\n            props.set(\"AWS_SESSION_TOKEN\", replacementString);\n            url.searchParams.set(\"authMechanismProperties\", props.toString());\n        }\n    }\n    if (url.searchParams.has(\"tlsCertificateKeyFilePassword\")) {\n        url.searchParams.set(\"tlsCertificateKeyFilePassword\", replacementString);\n    }\n    if (url.searchParams.has(\"proxyUsername\") && redactUsernames) {\n        url.searchParams.set(\"proxyUsername\", replacementString);\n    }\n    if (url.searchParams.has(\"proxyPassword\")) {\n        url.searchParams.set(\"proxyPassword\", replacementString);\n    }\n    return url;\n}\nexports.redactValidConnectionString = redactValidConnectionString;\nfunction redactConnectionString(uri, options) {\n    var _a, _b;\n    const replacementString = (_a = options === null || options === void 0 ? void 0 : options.replacementString) !== null && _a !== void 0 ? _a : \"<credentials>\";\n    const redactUsernames = (_b = options === null || options === void 0 ? void 0 : options.redactUsernames) !== null && _b !== void 0 ? _b : true;\n    let parsed;\n    try {\n        parsed = new index_1.default(uri);\n    } catch (_c) {}\n    if (parsed) {\n        options = {\n            ...options,\n            replacementString: \"___credentials___\"\n        };\n        return parsed.redact(options).toString().replace(/___credentials___/g, replacementString);\n    }\n    const R = replacementString;\n    const replacements = [\n        (uri)=>uri.replace(redactUsernames ? /(\\/\\/)(.*)(@)/g : /(\\/\\/[^@]*:)(.*)(@)/g, `$1${R}$3`),\n        (uri)=>uri.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi, `$1${R}`),\n        (uri)=>uri.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi, `$1${R}`),\n        (uri)=>redactUsernames ? uri.replace(/(proxyUsername=)([^&]+)/gi, `$1${R}`) : uri,\n        (uri)=>uri.replace(/(proxyPassword=)([^&]+)/gi, `$1${R}`)\n    ];\n    for (const replacer of replacements){\n        uri = replacer(uri);\n    }\n    return uri;\n}\nexports.redactConnectionString = redactConnectionString; //# sourceMappingURL=redact.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1jb25uZWN0aW9uLXN0cmluZy11cmwvbGliL3JlZGFjdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLGtCQUFrQixDQUFDLE1BQUcsS0FBSyxPQUFHLEVBQUVBLGVBQWUsSUFBTUMsQ0FBQUEsT0FBT0MsTUFBTSxHQUFJLFNBQVNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDMUYsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0IsSUFBSUcsT0FBT1AsT0FBT1Esd0JBQXdCLENBQUNMLEdBQUdDO0lBQzlDLElBQUksQ0FBQ0csUUFBUyxVQUFTQSxPQUFPLENBQUNKLEVBQUVNLFVBQVUsR0FBR0YsS0FBS0csUUFBUSxJQUFJSCxLQUFLSSxZQUFZLEdBQUc7UUFDakZKLE9BQU87WUFBRUssWUFBWTtZQUFNQyxLQUFLO2dCQUFhLE9BQU9WLENBQUMsQ0FBQ0MsRUFBRTtZQUFFO1FBQUU7SUFDOUQ7SUFDQUosT0FBT2MsY0FBYyxDQUFDWixHQUFHRyxJQUFJRTtBQUNqQyxJQUFNLFNBQVNMLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDdEIsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0JGLENBQUMsQ0FBQ0csR0FBRyxHQUFHRixDQUFDLENBQUNDLEVBQUU7QUFDaEIsQ0FBQztBQUNELElBQUlXLHFCQUFxQixDQUFDLE1BQUcsS0FBSyxPQUFHLEVBQUVBLGtCQUFrQixJQUFNZixDQUFBQSxPQUFPQyxNQUFNLEdBQUksU0FBU0MsQ0FBQyxFQUFFYyxDQUFDO0lBQ3pGaEIsT0FBT2MsY0FBYyxDQUFDWixHQUFHLFdBQVc7UUFBRVUsWUFBWTtRQUFNSyxPQUFPRDtJQUFFO0FBQ3JFLElBQUssU0FBU2QsQ0FBQyxFQUFFYyxDQUFDO0lBQ2RkLENBQUMsQ0FBQyxVQUFVLEdBQUdjO0FBQ25CO0FBQ0EsSUFBSUUsZUFBZSxDQUFDLE1BQUcsS0FB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QUU7SUFDYixJQUFJRixRQUFRO1FBQ1JoQixVQUFVO1lBQUUsR0FBR0EsT0FBTztZQUFFSyxtQkFBbUI7UUFBb0I7UUFDL0QsT0FBT1csT0FBT0csTUFBTSxDQUFDbkIsU0FBU2MsUUFBUSxHQUFHTSxPQUFPLENBQUMsc0JBQXNCZjtJQUMzRTtJQUNBLE1BQU1nQixJQUFJaEI7SUFDVixNQUFNaUIsZUFBZTtRQUNqQlAsQ0FBQUEsTUFBT0EsSUFBSUssT0FBTyxDQUFDZCxrQkFBa0IsbUJBQW1CLHdCQUF3QixDQUFDLEVBQUUsRUFBRWUsRUFBRSxFQUFFLENBQUM7UUFDMUZOLENBQUFBLE1BQU9BLElBQUlLLE9BQU8sQ0FBQyx3Q0FBd0MsQ0FBQyxFQUFFLEVBQUVDLEVBQUUsQ0FBQztRQUNuRU4sQ0FBQUEsTUFBT0EsSUFBSUssT0FBTyxDQUFDLDZDQUE2QyxDQUFDLEVBQUUsRUFBRUMsRUFBRSxDQUFDO1FBQ3hFTixDQUFBQSxNQUFPVCxrQkFBa0JTLElBQUlLLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQyxFQUFFLEVBQUVDLEVBQUUsQ0FBQyxJQUFJTjtRQUM5RUEsQ0FBQUEsTUFBT0EsSUFBSUssT0FBTyxDQUFDLDZCQUE2QixDQUFDLEVBQUUsRUFBRUMsRUFBRSxDQUFDO0tBQzNEO0lBQ0QsS0FBSyxNQUFNRSxZQUFZRCxhQUFjO1FBQ2pDUCxNQUFNUSxTQUFTUjtJQUNuQjtJQUNBLE9BQU9BO0FBQ1g7QUFDQXJCLDhCQUE4QixHQUFHQyx3QkFDakMsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxvZy1hcHBsaWNhdGlvbi8uL25vZGVfbW9kdWxlcy9tb25nb2RiLWNvbm5lY3Rpb24tc3RyaW5nLXVybC9saWIvcmVkYWN0LmpzP2RkZWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVkYWN0Q29ubmVjdGlvblN0cmluZyA9IGV4cG9ydHMucmVkYWN0VmFsaWRDb25uZWN0aW9uU3RyaW5nID0gdm9pZCAwO1xuY29uc3QgaW5kZXhfMSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9pbmRleFwiKSk7XG5mdW5jdGlvbiByZWRhY3RWYWxpZENvbm5lY3Rpb25TdHJpbmcoaW5wdXRVcmwsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHVybCA9IGlucHV0VXJsLmNsb25lKCk7XG4gICAgY29uc3QgcmVwbGFjZW1lbnRTdHJpbmcgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVwbGFjZW1lbnRTdHJpbmcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdfY3JlZGVudGlhbHNfJztcbiAgICBjb25zdCByZWRhY3RVc2VybmFtZXMgPSAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVkYWN0VXNlcm5hbWVzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0cnVlO1xuICAgIGlmICgodXJsLnVzZXJuYW1lIHx8IHVybC5wYXNzd29yZCkgJiYgcmVkYWN0VXNlcm5hbWVzKSB7XG4gICAgICAgIHVybC51c2VybmFtZSA9IHJlcGxhY2VtZW50U3RyaW5nO1xuICAgICAgICB1cmwucGFzc3dvcmQgPSAnJztcbiAgICB9XG4gICAgZWxzZSBpZiAodXJsLnBhc3N3b3JkKSB7XG4gICAgICAgIHVybC5wYXNzd29yZCA9IHJlcGxhY2VtZW50U3RyaW5nO1xuICAgIH1cbiAgICBpZiAodXJsLnNlYXJjaFBhcmFtcy5oYXMoJ2F1dGhNZWNoYW5pc21Qcm9wZXJ0aWVzJykpIHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSBuZXcgaW5kZXhfMS5Db21tYUFuZENvbG9uU2VwYXJhdGVkUmVjb3JkKHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdhdXRoTWVjaGFuaXNtUHJvcGVydGllcycpKTtcbiAgICAgICAgaWYgKHByb3BzLmdldCgnQVdTX1NFU1NJT05fVE9LRU4nKSkge1xuICAgICAgICAgICAgcHJvcHMuc2V0KCdBV1NfU0VTU0lPTl9UT0tFTicsIHJlcGxhY2VtZW50U3RyaW5nKTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdhdXRoTWVjaGFuaXNtUHJvcGVydGllcycsIHByb3BzLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh1cmwuc2VhcmNoUGFyYW1zLmhhcygndGxzQ2VydGlmaWNhdGVLZXlGaWxlUGFzc3dvcmQnKSkge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgndGxzQ2VydGlmaWNhdGVLZXlGaWxlUGFzc3dvcmQnLCByZXBsYWNlbWVudFN0cmluZyk7XG4gICAgfVxuICAgIGlmICh1cmwuc2VhcmNoUGFyYW1zLmhhcygncHJveHlVc2VybmFtZScpICYmIHJlZGFjdFVzZXJuYW1lcykge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgncHJveHlVc2VybmFtZScsIHJlcGxhY2VtZW50U3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKHVybC5zZWFyY2hQYXJhbXMuaGFzKCdwcm94eVBhc3N3b3JkJykpIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb3h5UGFzc3dvcmQnLCByZXBsYWNlbWVudFN0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG59XG5leHBvcnRzLnJlZGFjdFZhbGlkQ29ubmVjdGlvblN0cmluZyA9IHJlZGFjdFZhbGlkQ29ubmVjdGlvblN0cmluZztcbmZ1bmN0aW9uIHJlZGFjdENvbm5lY3Rpb25TdHJpbmcodXJpLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCByZXBsYWNlbWVudFN0cmluZyA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZXBsYWNlbWVudFN0cmluZykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJzxjcmVkZW50aWFscz4nO1xuICAgIGNvbnN0IHJlZGFjdFVzZXJuYW1lcyA9IChfYiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWRhY3RVc2VybmFtZXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWU7XG4gICAgbGV0IHBhcnNlZDtcbiAgICB0cnkge1xuICAgICAgICBwYXJzZWQgPSBuZXcgaW5kZXhfMS5kZWZhdWx0KHVyaSk7XG4gICAgfVxuICAgIGNhdGNoIChfYykgeyB9XG4gICAgaWYgKHBhcnNlZCkge1xuICAgICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCByZXBsYWNlbWVudFN0cmluZzogJ19fX2NyZWRlbnRpYWxzX19fJyB9O1xuICAgICAgICByZXR1cm4gcGFyc2VkLnJlZGFjdChvcHRpb25zKS50b1N0cmluZygpLnJlcGxhY2UoL19fX2NyZWRlbnRpYWxzX19fL2csIHJlcGxhY2VtZW50U3RyaW5nKTtcbiAgICB9XG4gICAgY29uc3QgUiA9IHJlcGxhY2VtZW50U3RyaW5nO1xuICAgIGNvbnN0IHJlcGxhY2VtZW50cyA9IFtcbiAgICAgICAgdXJpID0+IHVyaS5yZXBsYWNlKHJlZGFjdFVzZXJuYW1lcyA/IC8oXFwvXFwvKSguKikoQCkvZyA6IC8oXFwvXFwvW15AXSo6KSguKikoQCkvZywgYCQxJHtSfSQzYCksXG4gICAgICAgIHVyaSA9PiB1cmkucmVwbGFjZSgvKEFXU19TRVNTSU9OX1RPS0VOKDp8JTNBKSkoW14sJl0rKS9naSwgYCQxJHtSfWApLFxuICAgICAgICB1cmkgPT4gdXJpLnJlcGxhY2UoLyh0bHNDZXJ0aWZpY2F0ZUtleUZpbGVQYXNzd29yZD0pKFteJl0rKS9naSwgYCQxJHtSfWApLFxuICAgICAgICB1cmkgPT4gcmVkYWN0VXNlcm5hbWVzID8gdXJpLnJlcGxhY2UoLyhwcm94eVVzZXJuYW1lPSkoW14mXSspL2dpLCBgJDEke1J9YCkgOiB1cmksXG4gICAgICAgIHVyaSA9PiB1cmkucmVwbGFjZSgvKHByb3h5UGFzc3dvcmQ9KShbXiZdKykvZ2ksIGAkMSR7Un1gKVxuICAgIF07XG4gICAgZm9yIChjb25zdCByZXBsYWNlciBvZiByZXBsYWNlbWVudHMpIHtcbiAgICAgICAgdXJpID0gcmVwbGFjZXIodXJpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVyaTtcbn1cbmV4cG9ydHMucmVkYWN0Q29ubmVjdGlvblN0cmluZyA9IHJlZGFjdENvbm5lY3Rpb25TdHJpbmc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWRhY3QuanMubWFwIl0sIm5hbWVzIjpbIl9fY3JlYXRlQmluZGluZyIsIk9iamVjdCIsImNyZWF0ZSIsIm8iLCJtIiwiayIsImsyIiwidW5kZWZpbmVkIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9fZXNNb2R1bGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsInYiLCJ2YWx1ZSIsIl9faW1wb3J0U3RhciIsIm1vZCIsInJlc3VsdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImV4cG9ydHMiLCJyZWRhY3RDb25uZWN0aW9uU3RyaW5nIiwicmVkYWN0VmFsaWRDb25uZWN0aW9uU3RyaW5nIiwiaW5kZXhfMSIsInJlcXVpcmUiLCJpbnB1dFVybCIsIm9wdGlvbnMiLCJfYSIsIl9iIiwidXJsIiwiY2xvbmUiLCJyZXBsYWNlbWVudFN0cmluZyIsInJlZGFjdFVzZXJuYW1lcyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzZWFyY2hQYXJhbXMiLCJoYXMiLCJwcm9wcyIsIkNvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQiLCJzZXQiLCJ0b1N0cmluZyIsInVyaSIsInBhcnNlZCIsImRlZmF1bHQiLCJfYyIsInJlZGFjdCIsInJlcGxhY2UiLCJSIiwicmVwbGFjZW1lbnRzIiwicmVwbGFjZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/mongodb-connection-string-url/lib/redact.js\n");

/***/ })

};
;