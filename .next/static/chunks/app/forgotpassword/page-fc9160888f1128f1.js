(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3747],{4500:function(e,t,r){Promise.resolve().then(r.bind(r,1367))},1367:function(e,t,r){"use strict";r.r(t);var s=r(3827),o=r(4090),a=r(6123),i=r(7907);t.default=function(){let[e,t]=(0,o.useState)(""),[r,l]=(0,o.useState)(""),[n,d]=(0,o.useState)(""),c=(0,i.useRouter)(),u=async t=>{t.preventDefault();try{if((await fetch("http://localhost:8080/generateotp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})).ok)a.toast.success("OTP Generated Successfully",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});else throw a.toast.error("OTP Generation Failed",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),Error("Failed to generate otp")}catch(e){a.toast.error("OTP Generation Failed",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),console.error("Cant send otp "+e)}},h=async t=>{t.preventDefault();try{let t=await fetch("http://localhost:8080/otpvalidation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:r})});if(t.ok)t.ok&&a.toast.success("OTP Validated",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});else throw Error("Failed to validate otp")}catch(e){a.toast.error("Invalid OTP",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),console.error("otp validation failed "+e)}},m=async t=>{t.preventDefault();try{if((await fetch("http://localhost:8080/resetpassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n})})).ok)a.toast.success("password changed Successfully",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),setTimeout(()=>{c.push("/login")},1500);else throw Error("Failed to reset password")}catch(e){console.error("Failed to reset password "+e)}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("main",{id:"content",role:"main",className:"w-full max-w-md mx-auto p-6",children:[(0,s.jsx)("div",{className:"mt-7 bg-white rounded-xl shadow-lg dark:bg-gray-800 dark:border-gray-700 border-2 border-indigo-300",children:(0,s.jsxs)("div",{className:"p-4 sm:p-7",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"block text-2xl font-bold text-gray-800 dark:text-white",children:"Forgot password?"}),(0,s.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Remember your password?",(0,s.jsx)("a",{className:"text-blue-600 decoration-2 hover:underline font-medium",href:"#",children:"Login here"})]})]}),(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsxs)("div",{className:"grid gap-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-bold ml-1 mb-2 dark:text-white",children:"Email address"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"email",id:"email",name:"email",className:"py-3 px-4 block w-full border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm text-black",required:!0,"aria-describedby":"email-error",onChange:e=>t(e.target.value)})}),(0,s.jsx)("p",{className:"hidden text-xs text-red-600 mt-2",id:"email-error",children:"Please include a valid email address so we can get back to you"})]}),(0,s.jsx)("button",{onClick:u,type:"button",className:"py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800",children:"send otp"})]}),(0,s.jsxs)("div",{className:"grid gap-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold ml-1 mb-2 dark:text-white",children:"Enter otp"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"number",id:"otp",name:"otp",className:"py-3 px-4 block w-full border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm text-black",required:!0,onChange:e=>l(e.target.value)})})]}),(0,s.jsx)("button",{onClick:h,type:"button",className:"py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800",children:"verify"})]}),(0,s.jsxs)("div",{className:"grid gap-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-bold ml-1 mb-2 dark:text-white",children:"Create a new password"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{id:"newpassword",name:"newpassword",className:"py-3 px-4 block w-full border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm text-black",required:!0,onChange:e=>d(e.target.value)})})]}),(0,s.jsx)("button",{type:"submit",className:"py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800",children:"Reset password"})]})]})})]})}),(0,s.jsxs)("p",{className:"mt-3 flex justify-center items-center text-center divide-x divide-gray-300 dark:divide-gray-700",children:[(0,s.jsxs)("a",{className:"pr-3.5 inline-flex items-center gap-x-2 text-sm text-gray-600 decoration-2 hover:underline hover:text-blue-600 dark:text-gray-500 dark:hover:text-gray-200",href:"#",target:"_blank",children:[(0,s.jsx)("svg",{className:"w-3.5 h-3.5",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})}),"View Github"]}),(0,s.jsx)("a",{className:"pl-3 inline-flex items-center gap-x-2 text-sm text-gray-600 decoration-2 hover:underline hover:text-blue-600 dark:text-gray-500 dark:hover:text-gray-200",href:"#",children:"Contact us!"})]})]})})}},7907:function(e,t,r){"use strict";var s=r(5313);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[6123,2971,8069,1744],function(){return e(e.s=4500)}),_N_E=e.O()}]);